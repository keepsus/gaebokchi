<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>QnA상세보기</title>
    <link rel="stylesheet" href="/slime/css/qnaView.css">
</head>

<body>
<form name="boardViewForm">
333=${param.seq }<input type="hidden" name="seq" id="seq" value="${param.seq }">
<input type="hidden" name="pg" id="pg" value="${param.pg }">

	 <div class="qnaView">
                <div class="qnaContent">
                    <div class="qnaHeader">
                        <div class="qnaTitle">
                        	<!--제목-->
                            <div class="subject" id="subjectSpan">제목들어가는 곳
                            </div>
                            <div class="qnaFix">
                            		<!-- 작성자 -->	
                            	<span class="idSpan" id="idSpan">작성자</span>
                                <span class="qnaModify">
                                    <input type="button" id="qnaModify" value="수정" onclick="mode(1)">
                                    <input type="button" id="qnaDelete"  value="삭제" onclick="mode(2)">
                                </span>
                            </div>
                        </div>
                    <hr style="background-color: lightgray; height:3px; border:0; margin:0px;">
                    </div><!--header-->
                    
                    <div class="qna_content" style="white-space">
                        <div class="qna_body_wrap">
                        <div class="qna_body" id="contentSpan">
								내용들어오는 곳
                        </div><!--qna_body-->
                        </div>
                    </div><!-- qna_content -->
                    <div class="view_wrap">
                        <div class="viewOut">
                        	<hr>
                        	<span class="qnaReply">
                                    <input type="button" id="qnaReply" value="답글" onclick="mode(3)">
                             </span>
							<span class="qnaList">
                                    <input type="button" id="qnaList" value="목록" onclick="location.href='/slime/qna/qnaBoardlist.jsp'">
                             </span>
                         </div><!--viewOut-->
                     </div><!--view_wrap-->
                </div><!--qnaContent-->
            </div>
</form>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
/* function mode(num){
	if(num==1){//글수정
		document.boardViewForm.method="post";
		document.boardViewForm.action="boardModifyForm";
		document.boardViewForm.submit();
		
	}else if(num==2){//글삭제
		if(confirm("정말로 삭제하시겠습니까?")){
			document.boardViewForm.method="post";
			document.boardViewForm.action="boardDeleteForm";
			document.boardViewForm.submit();
		}		
	}else if(num==3){//답글
		document.boardViewForm.method="post";
		document.boardViewForm.action="boardReplyForm";
		document.boardViewForm.submit();
	}
} */
</script>
<script>
$(document).ready(function(){
	$.ajax({
		type: 'post',
		url: '/slime/qna/getBoard',//이 주소로 데이터를 보낸다.
		data: 'seq='+$('#seq').val(),
		dataType : 'json',//컨트롤러에서 돌아오는 데이터는 json타입이다
		success : function(data){
			//alert(JSON.stringify(data));
			console.log(data);
			$('#subjectSpan').text(data.qnaDTO.subject);
/* 			$('#seqSpan').text(data.boardDTO.seq); */
			$('#idSpan').text(data.qnaDTO.member_id);
/* 			$('#hitSpan').text(data.boardDTO.hit); */
			$('#contentSpan').text(data.qnaDTO.content);
			
			if(data.member_Id == data.qnaDTO.member_id)//여기 변수명 확인하기
				$('#qnaModify').show();
			else
				$('#qnaModify').hide();
		},
		error: function(err){
			console.log(err);
		}
	});
});
</script>
</body>
</html>